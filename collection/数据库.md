## 数据库

## 事务

### 介绍一下事务的四大特性？

- **原子性（Atomicity）**：**原子性是指事务包含的所有操作要么全部成功，要么全部失败回滚**，因此事务的操作如果成功就必须要完全应用到数据库，如果操作失败则不能对数据库有任何影响。
- **一致性（Consistency）**：**事务开始前和结束后，数据库的完整性约束没有被破坏。比如A向B转账，不可能A扣了钱，B却没收到**。
- **隔离性（Isolation）**：并发访问数据库时，一个用户的事务不被其他事务所干扰，各并发事务之间数据库是独立的；
- **持久性（Durability）**：持久性是指一个事务一旦被提交了，那么对数据库中的数据的改变就是永久性的，即便是在数据库系统遇到故障的情况下也不会丢失提交事务的操作。

### 什么是脏读？不可重复读？幻读？

- **脏读**：事务A读取了事务B未提交的数据，那么事务A读取的就是脏数据
- **不可重复读**：事务A多次读取同一份数据，事务B在事务A读取的过程中对数据进行了**更新**并提交，导致事务A读取的同一份数据，结果不一致
- **幻读**：事务A需要操作一份数据，在操作过程中发现数据被事务B**插入/删除**了，在一个事务操作中发现了未被操作的数据

### 什么是事务的隔离级别？MySQL的默认隔离级别是什么？

四个隔离级别

- READ-UNCOMMITTED(**读取未提交**)： 最低的隔离级别，允许读取尚未提交的数据变更，可能会导致脏读、幻读或不可重复读。
- READ-COMMITTED(**读取已提交**)： 允许读取并发事务已经提交的数据，可以阻止脏读，但是幻读或不可重复读仍有可能发生。
- REPEATABLE-READ(**可重复读**)： 对同一字段的多次读取结果都是一致的，除非数据是被本身事务自己所修改，可以阻止脏读和不可重复读，但幻读仍有可能发生。
- SERIALIZABLE(**可串行化**)： 最高的隔离级别，完全服从ACID的隔离级别。所有的事务依次逐个执行，这样事务之间就完全不可能产生干扰，也就是说，该级别可以防止脏读、不可重复读以及幻读。

Mysql 默认采用的 **可重复读** 隔离级别

## 索引

## 引擎

## 锁